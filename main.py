import os
import asyncio
import aioschedule
import logging
from datetime import datetime, timedelta
import pytz
import requests
import random

print("üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞...")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
TELEGRAM_BOT_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN')
TELEGRAM_CHANNEL = '@elixir_life_nutrition'
YANDEX_GPT_API_KEY = os.getenv('YANDEX_GPT_API_KEY')

class SimpleContentGenerator:
    def __init__(self):
        self.weekly_themes = {
            0: 'üî¨ –ù–∞—É—á–Ω—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫',
            1: 'üë®‚Äçüç≥ –¢–µ—Ö–Ω–∏–∫–∞ —à–µ—Ñ–∞', 
            2: '‚ùì –í–æ–ø—Ä–æ—Å-–û—Ç–≤–µ—Ç',
            3: 'üåü –†–µ—Ü–µ–ø—Ç –Ω–µ–¥–µ–ª–∏',
            4: 'üî• –¢—Ä–µ–Ω–¥–æ–≤–∞—è –ø—è—Ç–Ω–∏—Ü–∞',
            5: '‚ö° –ë—ã—Å—Ç—Ä–æ & –ó–¥–æ—Ä–æ–≤–æ',
            6: 'üèÜ –í–æ—Å–∫—Ä–µ—Å–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç'
        }
        
        self.meal_types = {
            'breakfast': 'üç≥ –ó–∞–≤—Ç—Ä–∞–∫',
            'lunch': 'üç≤ –û–±–µ–¥',
            'snack': 'ü•ú –ü–µ—Ä–µ–∫—É—Å', 
            'dinner': 'üçΩÔ∏è –£–∂–∏–Ω'
        }

    def get_fallback_content(self, meal_type, day_theme):
        """–ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GPT"""
        
        recipes = {
            'breakfast': [
                "ü•ö –ë–µ–ª–∫–æ–≤—ã–π –æ–º–ª–µ—Ç —Å —à–ø–∏–Ω–∞—Ç–æ–º\n\n–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:\n‚Ä¢ 2 —è–π—Ü–∞\n‚Ä¢ 50–≥ —à–ø–∏–Ω–∞—Ç–∞\n‚Ä¢ 30–≥ —Ç–≤–æ—Ä–æ–≥–∞\n‚Ä¢ –°–ø–µ—Ü–∏–∏\n\n–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ:\n1. –í–∑–±–µ–π—Ç–µ —è–π—Ü–∞ —Å —Ç–≤–æ—Ä–æ–≥–æ–º\n2. –û–±–∂–∞—Ä—å—Ç–µ —à–ø–∏–Ω–∞—Ç\n3. –ó–∞–ª–µ–π—Ç–µ —è–∏—á–Ω–æ–π —Å–º–µ—Å—å—é\n4. –ì–æ—Ç–æ–≤—å—Ç–µ 5-7 –º–∏–Ω—É—Ç",
                "ü•£ –û–≤—Å—è–Ω–∫–∞ —Å —è–≥–æ–¥–∞–º–∏\n\n–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:\n‚Ä¢ 50–≥ –æ–≤—Å—è–Ω—ã—Ö —Ö–ª–æ–ø—å–µ–≤\n‚Ä¢ 150–º–ª –º–∏–Ω–¥–∞–ª—å–Ω–æ–≥–æ –º–æ–ª–æ–∫–∞\n‚Ä¢ –ì–æ—Ä—Å—Ç—å —è–≥–æ–¥\n‚Ä¢ 1 —á.–ª. –º–µ–¥–∞\n\n–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ:\n1. –í–∞—Ä–∏—Ç–µ –æ–≤—Å—è–Ω–∫—É 10 –º–∏–Ω—É—Ç\n2. –î–æ–±–∞–≤—å—Ç–µ —è–≥–æ–¥—ã –∏ –º–µ–¥"
            ],
            'lunch': [
                "üç≤ –°–∞–ª–∞—Ç —Å –∫–∏–Ω–æ–∞ –∏ –∞–≤–æ–∫–∞–¥–æ\n\n–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:\n‚Ä¢ 100–≥ –∫–∏–Ω–æ–∞\n‚Ä¢ 1 –∞–≤–æ–∫–∞–¥–æ\n‚Ä¢ –ü–æ–º–∏–¥–æ—Ä—ã —á–µ—Ä—Ä–∏\n‚Ä¢ –†—É–∫–∫–æ–ª–∞\n‚Ä¢ –û–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ\n\n–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ:\n1. –û—Ç–≤–∞—Ä–∏—Ç–µ –∫–∏–Ω–æ–∞\n2. –ù–∞—Ä–µ–∂—å—Ç–µ –æ–≤–æ—â–∏\n3. –°–º–µ—à–∞–π—Ç–µ —Å –∑–∞–ø—Ä–∞–≤–∫–æ–π",
                "üêü –õ–æ—Å–æ—Å—å —Å –æ–≤–æ—â–∞–º–∏\n\n–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:\n‚Ä¢ 150–≥ –ª–æ—Å–æ—Å—è\n‚Ä¢ –ë—Ä–æ–∫–∫–æ–ª–∏\n‚Ä¢ –ú–æ—Ä–∫–æ–≤—å\n‚Ä¢ –õ–∏–º–æ–Ω\n\n–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ:\n1. –ó–∞–ø–µ–∫–∞–π—Ç–µ 20 –º–∏–Ω—É—Ç –ø—Ä–∏ 180¬∞C\n2. –ü–æ–¥–∞–≤–∞–π—Ç–µ —Å –ª–∏–º–æ–Ω–æ–º"
            ],
            'snack': [
                "ü•ú –ü—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–µ —à–∞—Ä–∏–∫–∏\n\n–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:\n‚Ä¢ 100–≥ –æ–≤—Å—è–Ω–∫–∏\n‚Ä¢ 50–≥ –æ—Ä–µ—Ö–æ–≤\n‚Ä¢ –ú–µ–¥\n‚Ä¢ –ö–æ–∫–æ—Å–æ–≤–∞—è —Å—Ç—Ä—É–∂–∫–∞\n\n–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ:\n1. –°–º–µ—à–∞–π—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã\n2. –°—Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ —à–∞—Ä–∏–∫–∏\n3. –û—Ö–ª–∞–¥–∏—Ç–µ 30 –º–∏–Ω—É—Ç",
                "üçé –Ø–±–ª–æ–∫–æ —Å –º–∏–Ω–¥–∞–ª—å–Ω—ã–º –º–∞—Å–ª–æ–º\n\n–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:\n‚Ä¢ 1 —è–±–ª–æ–∫–æ\n‚Ä¢ 2 —Å—Ç.–ª. –º–∏–Ω–¥–∞–ª—å–Ω–æ–≥–æ –º–∞—Å–ª–∞\n‚Ä¢ –ö–æ—Ä–∏—Ü–∞\n\n–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ:\n1. –ù–∞—Ä–µ–∂—å—Ç–µ —è–±–ª–æ–∫–æ\n2. –ù–∞–º–∞–∂—å—Ç–µ –º–∞—Å–ª–æ–º\n3. –ü–æ—Å—ã–ø—å—Ç–µ –∫–æ—Ä–∏—Ü–µ–π"
            ],
            'dinner': [
                "üçó –ö—É—Ä–∏—Ü–∞ —Å –∫–∏–Ω–æ–∞\n\n–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:\n‚Ä¢ 150–≥ –∫—É—Ä–∏–Ω–æ–π –≥—Ä—É–¥–∫–∏\n‚Ä¢ 100–≥ –∫–∏–Ω–æ–∞\n‚Ä¢ –°–ø–µ—Ü–∏–∏\n‚Ä¢ –ó–µ–ª–µ–Ω—å\n\n–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ:\n1. –û–±–∂–∞—Ä—å—Ç–µ –∫—É—Ä–∏—Ü—É\n2. –û—Ç–≤–∞—Ä–∏—Ç–µ –∫–∏–Ω–æ–∞\n3. –ü–æ–¥–∞–≤–∞–π—Ç–µ —Å –∑–µ–ª–µ–Ω—å—é",
                "ü•¶ –û–≤–æ—â–Ω–æ–µ —Ä–∞–≥—É\n\n–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:\n‚Ä¢ –ö–∞–±–∞—á–æ–∫\n‚Ä¢ –ë–∞–∫–ª–∞–∂–∞–Ω\n‚Ä¢ –ü–µ—Ä–µ—Ü\n‚Ä¢ –¢–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å\n\n–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ:\n1. –¢—É—à–∏—Ç–µ –æ–≤–æ—â–∏ 25 –º–∏–Ω—É—Ç\n2. –î–æ–±–∞–≤—å—Ç–µ —Å–æ—É—Å"
            ]
        }
        
        facts = {
            'üî¨ –ù–∞—É—á–Ω—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': "üí° –ù–∞—É—á–Ω—ã–π —Ñ–∞–∫—Ç: –ë–µ–ª–æ–∫ –∏–∑ —è–∏—Ü —É—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 97% - —ç—Ç–æ —ç—Ç–∞–ª–æ–Ω–Ω—ã–π –ø—Ä–æ—Ç–µ–∏–Ω!",
            'üë®‚Äçüç≥ –¢–µ—Ö–Ω–∏–∫–∞ —à–µ—Ñ–∞': "üë®‚Äçüç≥ –¢–µ—Ö–Ω–∏–∫–∞ —à–µ—Ñ–∞: –î–ª—è —Å–æ—á–Ω–æ–≥–æ –æ–º–ª–µ—Ç–∞ –≤–∑–±–∏–≤–∞–π—Ç–µ —è–π—Ü–∞ —Å –º–æ–ª–æ–∫–æ–º –Ω–∞ –≤–æ–¥—è–Ω–æ–π –±–∞–Ω–µ!",
            '‚ùì –í–æ–ø—Ä–æ—Å-–û—Ç–≤–µ—Ç': "‚ùì –í–æ–ø—Ä–æ—Å: –ê –∫–∞–∫–æ–π –≤–∞—à –ª—é–±–∏–º—ã–π –ø–æ–ª–µ–∑–Ω—ã–π –∑–∞–≤—Ç—Ä–∞–∫? –ü–∏—à–∏—Ç–µ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö!",
            'üåü –†–µ—Ü–µ–ø—Ç –Ω–µ–¥–µ–ª–∏': "üåü –®–µ—Ñ-—Å–æ–≤–µ—Ç: –î–æ–±–∞–≤—å—Ç–µ —â–µ–ø–æ—Ç–∫—É –º—É—Å–∫–∞—Ç–Ω–æ–≥–æ –æ—Ä–µ—Ö–∞ –¥–ª—è –∏–∑—ã—Å–∫–∞–Ω–Ω–æ–≥–æ –∞—Ä–æ–º–∞—Ç–∞!",
            'üî• –¢—Ä–µ–Ω–¥–æ–≤–∞—è –ø—è—Ç–Ω–∏—Ü–∞': "üî• –¢—Ä–µ–Ω–¥: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ - –∫–æ–≥–¥–∞ –µ–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–µ–∫–∞—Ä—Å—Ç–≤–æ–º!",
            '‚ö° –ë—ã—Å—Ç—Ä–æ & –ó–¥–æ—Ä–æ–≤–æ': "‚ö° –ë—ã—Å—Ç—Ä–æ: –≠—Ç–æ—Ç —Ä–µ—Ü–µ–ø—Ç –≥–æ—Ç–æ–≤–∏—Ç—Å—è –≤—Å–µ–≥–æ –∑–∞ 15 –º–∏–Ω—É—Ç!",
            'üèÜ –í–æ—Å–∫—Ä–µ—Å–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç': "üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç: –≠—Ç–æ –±–ª—é–¥–æ –ø–æ–º–æ–∂–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏!"
        }
        
        recipe = random.choice(recipes[meal_type])
        fact = facts[day_theme]
        
        return f"{self.meal_types[meal_type]}\n\n{recipe}\n\n{fact}\n\nüëá –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –≤–∞—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö!"

class TelegramBot:
    def __init__(self):
        self.bot_token = TELEGRAM_BOT_TOKEN
        self.channel = TELEGRAM_CHANNEL

    def send_message(self, text):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–∞–Ω–∞–ª"""
        url = f"https://api.telegram.org/bot{self.bot_token}/sendMessage"
        data = {
            "chat_id": self.channel,
            "text": text,
            "parse_mode": "HTML"
        }
        
        try:
            response = requests.post(url, data=data)
            print(f"‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: {response.status_code}")
            return response.json()
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: {e}")

class ContentScheduler:
    def __init__(self):
        self.generator = SimpleContentGenerator()
        self.bot = TelegramBot()
        self.kemerovo_tz = pytz.timezone('Asia/Novosibirsk')
        
        # –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π
        self.schedule = {
            'breakfast': '09:00',
            'lunch': '13:00',
            'snack': '16:00', 
            'dinner': '19:00',
            'rubric': '20:00'
        }

    def get_current_theme(self):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–º—ã –¥–Ω—è"""
        now = datetime.now(self.kemerovo_tz)
        return self.generator.weekly_themes[now.weekday()]

    def schedule_posts(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π"""
        
        # –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
        for meal_type, time_str in self.schedule.items():
            if meal_type != 'rubric':
                aioschedule.every().day.at(time_str).do(
                    self.publish_meal, meal_type
                )
                print(f"‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—è {meal_type} –≤ {time_str}")
        
        # –†—É–±—Ä–∏–∫–∏ –≤ 20:00
        aioschedule.every().day.at("20:00").do(
            self.publish_rubric
        )
        print("‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ä—É–±—Ä–∏–∫ –≤ 20:00")

    def publish_meal(self, meal_type):
        """–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–∞"""
        theme = self.get_current_theme()
        content = self.generator.get_fallback_content(meal_type, theme)
        self.bot.send_message(content)
        
        now = datetime.now(self.kemerovo_tz).strftime("%H:%M")
        print(f"üç≥ –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω {meal_type} –≤ {now}")

    def publish_rubric(self):
        """–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ä—É–±—Ä–∏–∫–∏"""
        theme = self.get_current_theme()
        
        rubric_content = {
            'üî¨ –ù–∞—É—á–Ω—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': "üî¨ –ù–ê–£–ß–ù–´–ô –ü–û–ù–ï–î–ï–õ–¨–ù–ò–ö\n\n–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–∏—Ä–∞–µ–º –º–µ—Ç–∞–±–æ–ª–∏–∑–º! üí°\n\n–ò–Ω—Å—É–ª–∏–Ω - –∫–ª—é—á–µ–≤–æ–π –≥–æ—Ä–º–æ–Ω –≤ –æ–±–º–µ–Ω–µ –≤–µ—â–µ—Å—Ç–≤. –ï–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Å–∞.\n\n‚ùì –ö–∞–∫ –≤—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–∞—Ö–∞—Ä–∞ –≤ –∫—Ä–æ–≤–∏?",
            'üë®‚Äçüç≥ –¢–µ—Ö–Ω–∏–∫–∞ —à–µ—Ñ–∞': "üë®‚Äçüç≥ TECH CHECK –û–¢ –®–ï–§–ê\n\n–°–µ–≥–æ–¥–Ω—è –æ—Å–≤–∞–∏–≤–∞–µ–º —Ç–µ—Ö–Ω–∏–∫—É '–∫–æ–Ω—Ñ–∏'! üéØ\n\n–ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Ç–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∏–∑–∫–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–∫–∏ –∏ –ø–∏—Ç–∞—Ç–µ–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞ –≤ –º—è—Å–µ.\n\nüëá –ö—Ç–æ —É–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª —ç—Ç—É —Ç–µ—Ö–Ω–∏–∫—É? –î–µ–ª–∏—Ç–µ—Å—å –æ–ø—ã—Ç–æ–º!",
            '‚ùì –í–æ–ø—Ä–æ—Å-–û—Ç–≤–µ—Ç': "‚ùì –í–û–ü–†–û–°-–û–¢–í–ï–¢\n\n–û—Ç–≤–µ—á–∞–µ–º –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã! üí¨\n\n–°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–µ–¥–µ–ª–∏:\n‚Ä¢ –ö–∞–∫ —É—Å–∫–æ—Ä–∏—Ç—å –º–µ—Ç–∞–±–æ–ª–∏–∑–º?\n‚Ä¢ –ö–∞–∫–∏–µ –∂–∏—Ä—ã —Å–∞–º—ã–µ –ø–æ–ª–µ–∑–Ω—ã–µ?\n‚Ä¢ –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ—á–µ—Ç–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã?\n\nüí™ –ó–∞–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö!",
            'üåü –†–µ—Ü–µ–ø—Ç –Ω–µ–¥–µ–ª–∏': "üåü –†–ï–¶–ï–ü–¢ –ù–ï–î–ï–õ–ò –û–¢ –®–ï–§–ê\n\n–õ–æ—Å–æ—Å—å –≤ –∫—É–Ω–∂—É—Ç–Ω–æ–π –∫–æ—Ä–æ—á–∫–µ —Å –∫–∏–Ω–æ–∞! üé®\n\n–≠—Ç–æ –±–ª—é–¥–æ —É—Ä–æ–≤–Ω—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –ú–∏—à–ª–µ–Ω —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ –≤–∞–º –¥–æ–º–∞!\n\nüì∏ –ì–æ—Ç–æ–≤–∏—Ç–µ? –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∂–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç!",
            'üî• –¢—Ä–µ–Ω–¥–æ–≤–∞—è –ø—è—Ç–Ω–∏—Ü–∞': "üî• –¢–†–ï–ù–î–û–í–ê–Ø –ü–Ø–¢–ù–ò–¶–ê\n\n–†–∞–∑–±–∏—Ä–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –≥–æ–ª–æ–¥–∞–Ω–∏–µ! üìä\n\n–ù–∞—É—á–Ω—ã–µ –ø–ª—é—Å—ã –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.\n\n‚ùì –ö—Ç–æ —É–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª? –î–µ–ª–∏—Ç–µ—Å—å –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏!",
            '‚ö° –ë—ã—Å—Ç—Ä–æ & –ó–¥–æ—Ä–æ–≤–æ': "‚ö° –ë–´–°–¢–†–û & –ó–î–û–†–û–í–û\n\n–†–µ—Ü–µ–ø—Ç –Ω–∞ 15 –º–∏–Ω—É—Ç! ‚è∞\n\n–°–∞–ª–∞—Ç —Å —Ç—É–Ω—Ü–æ–º –∏ –∞–≤–æ–∫–∞–¥–æ - –±—ã—Å—Ç—Ä–æ, –ø–æ–ª–µ–∑–Ω–æ, –≤–∫—É—Å–Ω–æ!\n\nüí™ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∑–∞–Ω—è—Ç—ã—Ö –ª—é–¥–µ–π!",
            'üèÜ –í–æ—Å–∫—Ä–µ—Å–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç': "üèÜ –í–û–°–ö–†–ï–°–ù–´–ô –î–ê–ô–î–ñ–ï–°–¢\n\n–ü–æ–¥–≤–æ–¥–∏–º –∏—Ç–æ–≥–∏ –Ω–µ–¥–µ–ª–∏! üìà\n\n–õ—É—á—à–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã, –≤–∞—à–∏ —É—Å–ø–µ—Ö–∏, –ø–ª–∞–Ω—ã –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é!\n\nüéØ –ì–æ—Ç–æ–≤—ã –∫ –Ω–æ–≤—ã–º —Å–≤–µ—Ä—à–µ–Ω–∏—è–º?"
        }
        
        content = rubric_content.get(theme, "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –≥–æ—Ç–æ–≤–∏—Ç—Å—è –¥–ª—è –≤–∞—Å!")
        self.bot.send_message(content)
        
        print(f"üìù –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ —Ä—É–±—Ä–∏–∫–∞: {theme}")

async def main():
    print("üéØ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞...")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
    if not TELEGRAM_BOT_TOKEN:
        print("‚ùå –û—à–∏–±–∫–∞: TELEGRAM_BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
        return
    
    # –°–æ–∑–¥–∞–µ–º –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
    scheduler = ContentScheduler()
    scheduler.schedule_posts()
    
    print("‚úÖ –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
    print("üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π:")
    print("   üç≥ –ó–∞–≤—Ç—Ä–∞–∫: 09:00")
    print("   üç≤ –û–±–µ–¥: 13:00") 
    print("   ü•ú –ü–µ—Ä–µ–∫—É—Å: 16:00")
    print("   üçΩÔ∏è –£–∂–∏–Ω: 19:00")
    print("   üìù –†—É–±—Ä–∏–∫–∞: 20:00")
    print("\nüîÑ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç...")
    
    # –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
    while True:
        await aioschedule.run_pending()
        await asyncio.sleep(1)

if __name__ == "__main__":
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    logging.basicConfig(level=logging.INFO)
    
    # –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
    asyncio.run(main())
